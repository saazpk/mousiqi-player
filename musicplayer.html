<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Newsreader%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>Music Player App</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      .track-item {
        cursor: pointer;
        transition: background-color 0.2s ease;
      }
      .track-item:hover {
        background-color: #e8f4e6;
      }
      .track-item.active {
        background-color: #d2eacd;
      }
      .control-btn {
        cursor: pointer;
        transition: transform 0.1s ease;
      }
      .control-btn:hover {
        transform: scale(1.05);
      }
      .control-btn:active {
        transform: scale(0.95);
      }
      .progress-bar {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#f9fcf8] justify-between group/design-root overflow-x-hidden"
      style='font-family: Newsreader, "Noto Sans", sans-serif;'
    >
      <div>
        <div class="flex items-center bg-[#f9fcf8] p-4 pb-2 justify-between">
          <div class="text-[#0f1d0c] flex size-12 shrink-0 items-center" data-icon="MagnifyingGlass" data-size="24px" data-weight="regular">
            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
            </svg>
          </div>
          <div class="flex w-12 items-center justify-end">
            <button
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded h-12 bg-transparent text-[#0f1d0c] gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 p-0"
            >
              <div class="text-[#0f1d0c]" data-icon="UserCircle" data-size="24px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM74.08,197.5a64,64,0,0,1,107.84,0,87.83,87.83,0,0,1-107.84,0ZM96,120a32,32,0,1,1,32,32A32,32,0,0,1,96,120Zm97.76,66.41a79.66,79.66,0,0,0-36.06-28.75,48,48,0,1,0-59.4,0,79.66,79.66,0,0,0-36.06,28.75,88,88,0,1,1,131.52,0Z"
                  ></path>
                </svg>
              </div>
            </button>
          </div>
        </div>
        
        <!-- Current Playing Track -->
        <div class="flex items-center gap-4 bg-[#f9fcf8] px-4 min-h-[72px] py-2 justify-between track-item" data-track="0">
          <div class="flex items-center gap-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded size-14 current-track-image"
              style='background-image: url("https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=300&fit=crop");'
            ></div>
            <div class="flex flex-col justify-center">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal line-clamp-1 current-track-title">Ho Hey</p>
              <p class="text-[#54a145] text-sm font-normal leading-normal line-clamp-2 current-track-artist">The Lumineers</p>
            </div>
          </div>
          <div class="shrink-0">
            <div class="text-[#0f1d0c] flex size-7 items-center justify-center control-btn track-play-btn" data-icon="Play" data-size="24px" data-weight="regular" data-track="0">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                ></path>
              </svg>
            </div>
          </div>
        </div>

        <!-- Track List -->
        <div class="flex items-center gap-4 bg-[#f9fcf8] px-4 min-h-[72px] py-2 justify-between track-item" data-track="1">
          <div class="flex items-center gap-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded size-14"
              style='background-image: url("https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=300&h=300&fit=crop");'
            ></div>
            <div class="flex flex-col justify-center">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal line-clamp-1">Viva la Vida</p>
              <p class="text-[#54a145] text-sm font-normal leading-normal line-clamp-2">Coldplay</p>
            </div>
          </div>
          <div class="shrink-0">
            <div class="text-[#0f1d0c] flex size-7 items-center justify-center control-btn track-play-btn" data-icon="Play" data-size="24px" data-weight="regular" data-track="1">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                ></path>
              </svg>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-4 bg-[#f9fcf8] px-4 min-h-[72px] py-2 justify-between track-item" data-track="2">
          <div class="flex items-center gap-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded size-14"
              style='background-image: url("https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=300&fit=crop");'
            ></div>
            <div class="flex flex-col justify-center">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal line-clamp-1">Shape of You</p>
              <p class="text-[#54a145] text-sm font-normal leading-normal line-clamp-2">Ed Sheeran</p>
            </div>
          </div>
          <div class="shrink-0">
            <div class="text-[#0f1d0c] flex size-7 items-center justify-center control-btn track-play-btn" data-icon="Play" data-size="24px" data-weight="regular" data-track="2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                ></path>
              </svg>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-4 bg-[#f9fcf8] px-4 min-h-[72px] py-2 justify-between track-item" data-track="3">
          <div class="flex items-center gap-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded size-14"
              style='background-image: url("https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=300&h=300&fit=crop");'
            ></div>
            <div class="flex flex-col justify-center">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal line-clamp-1">Shake It Off</p>
              <p class="text-[#54a145] text-sm font-normal leading-normal line-clamp-2">Taylor Swift</p>
            </div>
          </div>
          <div class="shrink-0">
            <div class="text-[#0f1d0c] flex size-7 items-center justify-center control-btn track-play-btn" data-icon="Play" data-size="24px" data-weight="regular" data-track="3">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                ></path>
              </svg>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-4 bg-[#f9fcf8] px-4 min-h-[72px] py-2 justify-between track-item" data-track="4">
          <div class="flex items-center gap-4">
            <div
              class="bg-center bg-no-repeat aspect-square bg-cover rounded size-14"
              style='background-image: url("https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=300&fit=crop");'
            ></div>
            <div class="flex flex-col justify-center">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal line-clamp-1">Rolling in the Deep</p>
              <p class="text-[#54a145] text-sm font-normal leading-normal line-clamp-2">Adele</p>
            </div>
          </div>
          <div class="shrink-0">
            <div class="text-[#0f1d0c] flex size-7 items-center justify-center control-btn track-play-btn" data-icon="Play" data-size="24px" data-weight="regular" data-track="4">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                ></path>
              </svg>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Controls -->
      <div>
        <!-- Progress Bar -->
        <div class="@container">
          <div class="relative flex w-full flex-col items-start justify-between gap-3 p-4 @[480px]:flex-row @[480px]:items-center">
            <div class="flex w-full shrink-[3] items-center justify-between">
              <p class="text-[#0f1d0c] text-base font-medium leading-normal" id="time-display">0:00 / 3:15</p>
              <p class="text-[#0f1d0c] text-sm font-normal leading-normal @[480px]:hidden" id="volume-display-mobile">♪</p>
            </div>
            <div class="flex h-4 w-full items-center gap-4">
              <div class="flex h-1 flex-1 rounded-sm bg-[#d2eacd] progress-bar" id="progress-bar">
                <div class="h-full w-[0%] rounded-sm bg-[#137000]" id="progress-fill"></div>
              </div>
              <p class="text-[#0f1d0c] text-sm font-normal leading-normal hidden @[480px]:block" id="volume-display">♪</p>
            </div>
          </div>
        </div>

        <!-- Control Buttons -->
        <div class="@container">
          <div class="gap-2 px-4 grid-cols-[repeat(auto-fit, minmax(80px,_1fr))] grid">
            <div class="flex flex-col items-center gap-2 bg-[#f9fcf8] py-2.5 text-center control-btn" id="back-btn">
              <div class="rounded-full bg-[#e8f4e6] p-2.5">
                <div class="text-[#0f1d0c]" data-icon="Rewind" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M223.77,58a16,16,0,0,0-16.25.53L128,109.14V71.84A15.91,15.91,0,0,0,103.52,58.5L15.33,114.66a15.8,15.8,0,0,0,0,26.68l88.19,56.16A15.91,15.91,0,0,0,128,184.16v-37.3l79.52,50.64A15.91,15.91,0,0,0,232,184.16V71.84A15.83,15.83,0,0,0,223.77,58ZM112,183.93,24.18,128,112,72.06Zm104,0L128.18,128,216,72.06Z"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="text-[#0f1d0c] text-sm font-medium leading-normal">Back</p>
            </div>
            <div class="flex flex-col items-center gap-2 bg-[#f9fcf8] py-2.5 text-center control-btn" id="main-play-btn">
              <div class="rounded-full bg-[#e8f4e6] p-2.5">
                <div class="text-[#0f1d0c]" data-icon="Play" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="text-[#0f1d0c] text-sm font-medium leading-normal" id="main-play-text">Play</p>
            </div>
            <div class="flex flex-col items-center gap-2 bg-[#f9fcf8] py-2.5 text-center control-btn" id="next-btn">
              <div class="rounded-full bg-[#e8f4e6] p-2.5">
                <div class="text-[#0f1d0c]" data-icon="FastForward" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M240.67,114.66,152.48,58.5A15.91,15.91,0,0,0,128,71.84v37.3L48.48,58.5A15.91,15.91,0,0,0,24,71.84V184.16A15.92,15.92,0,0,0,48.48,197.5L128,146.86v37.3a15.92,15.92,0,0,0,24.48,13.34l88.19-56.16a15.8,15.8,0,0,0,0-26.68ZM40,183.94V72.07L127.82,128Zm104,0V72.07L231.82,128Z"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="text-[#0f1d0c] text-sm font-medium leading-normal">Next</p>
            </div>
            <div class="flex flex-col items-center gap-2 bg-[#f9fcf8] py-2.5 text-center control-btn" id="repeat-btn">
              <div class="rounded-full bg-[#e8f4e6] p-2.5" id="repeat-btn-bg">
                <div class="text-[#0f1d0c]" data-icon="Repeat" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M24,128A72.08,72.08,0,0,1,96,56H204.69L194.34,45.66a8,8,0,0,1,11.32-11.32l24,24a8,8,0,0,1,0,11.32l-24,24a8,8,0,0,1-11.32-11.32L204.69,72H96a56.06,56.06,0,0,0-56,56,8,8,0,0,1-16,0Zm200-8a8,8,0,0,0-8,8,56.06,56.06,0,0,1-56,56H51.31l10.35-10.34a8,8,0,0,0-11.32-11.32l-24,24a8,8,0,0,0,0,11.32l24,24a8,8,0,0,0,11.32-11.32L51.31,200H160a72.08,72.08,0,0,0,72-72A8,8,0,0,0,224,120Z"
                    ></path>
                  </svg>
                </div>
              </div>
              <p class="text-[#0f1d0c] text-sm font-medium leading-normal">Repeat</p>
            </div>
          </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="flex gap-2 border-t border-[#e8f4e6] bg-[#f9fcf8] px-4 pb-3 pt-2">
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 rounded-full text-[#0f1d0c]" href="#">
            <div class="text-[#0f1d0c] flex h-8 items-center justify-center" data-icon="House" data-size="24px" data-weight="fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"
                ></path>
              </svg>
            </div>
          </a>
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#54a145]" href="#">
            <div class="text-[#54a145] flex h-8 items-center justify-center" data-icon="MagnifyingGlass" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
              </svg>
            </div>
          </a>
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#54a145]" href="#">
            <div class="text-[#54a145] flex h-8 items-center justify-center" data-icon="Bookmark" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Zm0,16V161.57l-51.77-32.35a8,8,0,0,0-8.48,0L72,161.56V48ZM132.23,177.22a8,8,0,0,0-8.48,0L72,209.57V180.43l56-35,56,35v29.14Z"
                ></path>
              </svg>
            </div>
          </a>
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#54a145]" href="#">
            <div class="text-[#54a145] flex h-8 items-center justify-center" data-icon="Gear" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"
                ></path>
              </svg>
            </div>
          </a>
        </div>
        <div class="h-5 bg-[#f9fcf8]"></div>
      </div>
    </div>

    <script>
      // Music Player JavaScript Functionality
      class MusicPlayer {
        constructor() {
          this.currentTrack = 0;
          this.isPlaying = false;
          this.currentTime = 0;
          this.duration = 195; // 3:15 in seconds
          this.isRepeat = false;
          
          this.tracks = [
            { title: "Ho Hey", artist: "The Lumineers", duration: 195 },
            { title: "Viva la Vida", artist: "Coldplay", duration: 242 },
            { title: "Shape of You", artist: "Ed Sheeran", duration: 233 },
            { title: "Shake It Off", artist: "Taylor Swift", duration: 219 },
            { title: "Rolling in the Deep", artist: "Adele", duration: 228 }
          ];
          
          this.init();
        }
        
        init() {
          this.updateCurrentTrackDisplay();
          this.setupEventListeners();
          this.updateProgressBar();
          this.startTimer();
        }
        
        setupEventListeners() {
          // Main play button
          const mainPlayBtn = document.getElementById('main-play-btn');
          if (mainPlayBtn) {
            mainPlayBtn.addEventListener('click', () => this.togglePlay());
          }
          
          // Track play buttons
          const trackPlayBtns = document.querySelectorAll('.track-play-btn');
          trackPlayBtns.forEach((btn) => {
            btn.addEventListener('click', () => {
              const trackIndex = parseInt(btn.getAttribute('data-track'));
              this.playTrack(trackIndex);
            });
          });
          
          // Track items (click to play)
          const trackItems = document.querySelectorAll('.track-item');
          trackItems.forEach((item) => {
            item.addEventListener('click', (e) => {
              if (!e.target.closest('.track-play-btn')) {
                const trackIndex = parseInt(item.getAttribute('data-track'));
                this.playTrack(trackIndex);
              }
            });
          });
          
          // Control buttons
          const backBtn = document.getElementById('back-btn');
          const nextBtn = document.getElementById('next-btn');
          const repeatBtn = document.getElementById('repeat-btn');
          
          if (backBtn) backBtn.addEventListener('click', () => this.previousTrack());
          if (nextBtn) nextBtn.addEventListener('click', () => this.nextTrack());
          if (repeatBtn) repeatBtn.addEventListener('click', () => this.toggleRepeat());
          
          // Progress bar click
          const progressBar = document.getElementById('progress-bar');
          if (progressBar) {
            progressBar.addEventListener('click', (e) => this.seek(e));
          }
        }
        
        togglePlay() {
          this.isPlaying = !this.isPlaying;
          this.updatePlayButton();
          console.log(this.isPlaying ? `Playing: ${this.tracks[this.currentTrack].title}` : 'Paused');
        }
        
        playTrack(index) {
          this.currentTrack = index;
          this.currentTime = 0;
          this.isPlaying = true;
          this.duration = this.tracks[index].duration;
          this.updateCurrentTrackDisplay();
          this.updatePlayButton();
          this.updateProgressBar();
          console.log(`Now playing: ${this.tracks[index].title} by ${this.tracks[index].artist}`);
        }
        
        nextTrack() {
          this.currentTrack = (this.currentTrack + 1) % this.tracks.length;
          this.currentTime = 0;
          this.duration = this.tracks[this.currentTrack].duration;
          this.updateCurrentTrackDisplay();
          this.updateProgressBar();
          if (this.isPlaying) {
            console.log(`Next track: ${this.tracks[this.currentTrack].title}`);
          }
        }
        
        previousTrack() {
          this.currentTrack = this.currentTrack === 0 ? this.tracks.length - 1 : this.currentTrack - 1;
          this.currentTime = 0;
          this.duration = this.tracks[this.currentTrack].duration;
          this.updateCurrentTrackDisplay();
          this.updateProgressBar();
          if (this.isPlaying) {
            console.log(`Previous track: ${this.tracks[this.currentTrack].title}`);
          }
        }
        
        toggleRepeat() {
          this.isRepeat = !this.isRepeat;
          const repeatBtnBg = document.getElementById('repeat-btn-bg');
          if (repeatBtnBg) {
            repeatBtnBg.style.backgroundColor = this.isRepeat ? '#137000' : '#e8f4e6';
            repeatBtnBg.style.color = this.isRepeat ? '#ffffff' : '#0f1d0c';
          }
          console.log(`Repeat: ${this.isRepeat ? 'ON' : 'OFF'}`);
        }
        
        seek(e) {
          const progressBar = e.currentTarget;
          const rect = progressBar.getBoundingClientRect();
          const clickX = e.clientX - rect.left;
          const progressBarWidth = rect.width;
          const percentage = clickX / progressBarWidth;
          this.currentTime = Math.floor(this.duration * percentage);
          this.updateProgressBar();
        }
        
        updateCurrentTrackDisplay() {
          const track = this.tracks[this.currentTrack];
          const trackImage = document.querySelector('.current-track-image');
          const trackTitle = document.querySelector('.current-track-title');
          const trackArtist = document.querySelector('.current-track-artist');
          
          if (trackTitle) trackTitle.textContent = track.title;
          if (trackArtist) trackArtist.textContent = track.artist;
          
          // Update active track styling
          document.querySelectorAll('.track-item').forEach((item, index) => {
            if (index === this.currentTrack) {
              item.classList.add('active');
            } else {
              item.classList.remove('active');
            }
          });
        }
        
        updatePlayButton() {
          const playBtns = document.querySelectorAll('[data-icon="Play"]');
          playBtns.forEach(btn => {
            const svg = btn.querySelector('svg');
            if (svg) {
              if (this.isPlaying) {
                svg.innerHTML = '<path d="M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"></path>';
              } else {
                svg.innerHTML = '<path d="M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"></path>';
              }
            }
          });
          
          const playBtnText = document.getElementById('main-play-text');
          if (playBtnText) {
            playBtnText.textContent = this.isPlaying ? 'Pause' : 'Play';
          }
        }
        
        updateProgressBar() {
          const progress = (this.currentTime / this.duration) * 100;
          const progressFill = document.getElementById('progress-fill');
          
          if (progressFill) {
            progressFill.style.width = `${Math.max(0, Math.min(100, progress))}%`;
          }
          
          const timeDisplay = document.getElementById('time-display');
          if (timeDisplay) {
            const currentMinutes = Math.floor(this.currentTime / 60);
            const currentSeconds = this.currentTime % 60;
            const durationMinutes = Math.floor(this.duration / 60);
            const durationSeconds = this.duration % 60;
            timeDisplay.textContent = `${currentMinutes}:${currentSeconds.toString().padStart(2, '0')} / ${durationMinutes}:${durationSeconds.toString().padStart(2, '0')}`;
          }
        }
        
        startTimer() {
          setInterval(() => {
            if (this.isPlaying) {
              this.currentTime++;
              if (this.currentTime >= this.duration) {
                if (this.isRepeat) {
                  this.currentTime = 0;
                } else {
                  this.nextTrack();
                  if (this.currentTrack === 0) {
                    this.isPlaying = false;
                    this.updatePlayButton();
                  }
                }
              }
              this.updateProgressBar();
            }
          }, 1000);
        }
      }
      
      // Initialize the music player when the page loads
      document.addEventListener('DOMContentLoaded', () => {
        new MusicPlayer();
      });
    </script>
  </body>
</html>
